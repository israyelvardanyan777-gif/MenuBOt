<!DOCTYPE html>
<html lang="hy">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UraXot Mini | Admin Protected</title>
<style>
body { background:#000; color:#fff; font-family:sans-serif; padding:16px; }
.container { max-width:400px; margin:auto; }
.header { text-align:center; margin-bottom:24px; }
.logo { font-size:24px; font-weight:bold; color:#00d4aa; margin-bottom:8px; }
.step { background:#111; padding:16px; border-radius:12px; margin-bottom:16px; }
.step-title { font-weight:600; margin-bottom:12px; }
.grid { display:grid; gap:8px; grid-template-columns:repeat(2,1fr); }
.btn { padding:12px; border-radius:8px; background:#222; text-align:center; cursor:pointer; transition:0.2s; }
.btn:hover { background:#333; }
.btn.selected { background:#00d4aa; color:#000; }
.image-container { margin-top:12px; text-align:center; }
.product-image { width:100%; height:200px; object-fit:cover; border-radius:8px; }
.admin-panel { background:#222; padding:12px; border-radius:8px; margin-bottom:16px; display:none; }
input { width:100%; padding:8px; margin-bottom:8px; border-radius:6px; border:none; }
button { width:100%; padding:12px; border:none; border-radius:8px; background:#00d4aa; color:#000; cursor:pointer; }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="logo">UraXot Mini</div>
  </div>

  <!-- Admin Login -->
  <div class="step">
    <div class="step-title">Admin Login</div>
    <input type="password" id="adminPassword" placeholder="Գաղտնաբառ">
    <button onclick="loginAdmin()">Մուտք գործել Admin</button>
  </div>

  <!-- Admin Panel -->
  <div class="admin-panel" id="adminPanel">
    <div class="step-title">Admin Panel</div>
    <input type="text" id="newDistrict" placeholder="Շրջան անունը">
    <input type="text" id="newWeight" placeholder="Քաշ (օր. 0.5g)">
    <input type="text" id="newColor" placeholder="Գույն (#hex)">
    <button onclick="addProduct()">Ավելացնել Ապրանք</button>
  </div>

  <!-- User selection -->
  <div class="step">
    <div class="step-title">Ընտրեք շրջանը</div>
    <div class="grid" id="districtGrid"></div>
  </div>

  <div class="step">
    <div class="step-title">Ընտրեք քաշը</div>
    <div class="grid" id="productGrid"></div>
  </div>

  <div class="image-container" id="imageContainer">
    Ընտրեք շրջան և քաշ՝ նկարի ցուցադրման համար
  </div>
</div>

<script>
const adminPass = "1234"; // Գաղտնաբառը փոխարինիր քո համար
let isAdmin = false;
let selectedDistrict = "";
let selectedWeight = "";
let products = {
  "Կենտրոն": { "0.5g": "#008de4", "1.0g": "#0066cc" },
  "Մալաթիա": { "0.5g": "#00b894", "1.0g": "#00d4aa" }
};

function loginAdmin() {
  const pass = document.getElementById("adminPassword").value;
  if(pass === adminPass) {
    isAdmin = true;
    document.getElementById("adminPanel").style.display = "block";
    alert("✅ Admin ռեժիմը բացվեց!");
  } else {
    alert("❌ Խորագրությունը սխալ է");
  }
  document.getElementById("adminPassword").value = "";
}

function addProduct() {
  const district = document.getElementById("newDistrict").value;
  const weight = document.getElementById("newWeight").value;
  const color = document.getElementById("newColor").value;
  if(!district || !weight || !color) return alert("Լրացրեք բոլոր դաշտերը");
  if(!products[district]) products[district] = {};
  products[district][weight] = color;
  renderDistricts();
  alert("Ապրանքը ավելացվեց!");
  document.getElementById("newDistrict").value = "";
  document.getElementById("newWeight").value = "";
  document.getElementById("newColor").value = "";
}

function renderDistricts() {
  const districtGrid = document.getElementById("districtGrid");
  districtGrid.innerHTML = "";
  Object.keys(products).forEach(d => {
    const btn = document.createElement("div");
    btn.className = "btn";
    btn.textContent = d;
    btn.onclick = () => selectDistrict(d, btn);
    districtGrid.appendChild(btn);
  });
}

function selectDistrict(d, btn) {
  selectedDistrict = d;
  document.querySelectorAll("#districtGrid .btn").forEach(b => b.classList.remove("selected"));
  btn.classList.add("selected");
  renderProducts();
  updateImage();
}

function renderProducts() {
  const productGrid = document.getElementById("productGrid");
  productGrid.innerHTML = "";
  if(!products[selectedDistrict]) return;
  Object.keys(products[selectedDistrict]).forEach(w => {
    const btn = document.createElement("div");
    btn.className = "btn";
    btn.textContent = w;
    btn.onclick = () => selectProduct(w, btn);
    productGrid.appendChild(btn);
  });
}

function selectProduct(w, btn) {
  selectedWeight = w;
  document.querySelectorAll("#productGrid .btn").forEach(b => b.classList.remove("selected"));
  btn.classList.add("selected");
  updateImage();
}

function updateImage() {
  const container = document.getElementById("imageContainer");
  if(selectedDistrict && selectedWeight) {
    const color = products[selectedDistrict][selectedWeight];
    const svg = `<svg width="300" height="200" xmlns="http://www.w3.org/2000/svg">
    <rect width="300" height="200" fill="${color}"/>
    <text x="150" y="100" text-anchor="middle" fill="#fff" font-size="20" font-weight="bold">${selectedDistrict} ${selectedWeight}</text>
    </svg>`;
    container.innerHTML = `<img src="data:image/svg+xml;base64,${btoa(svg)}" class="product-image">`;
  } else {
    container.textContent = "Ընտրեք շրջան և քաշ՝ նկարի ցուցադրման համար";
  }
}

renderDistricts();
</script>
</body>
</html>
